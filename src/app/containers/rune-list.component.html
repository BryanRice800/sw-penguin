<mat-slide-toggle [formControl]="happyCurcuit">행복회로</mat-slide-toggle>
<mat-form-field>
  <input matInput (keydown.enter)="applyFilter($event.target.value)" (blur)="applyFilter($event.target.value)"
    placeholder="Filter">
</mat-form-field>
<div [class.short]="selectedRune$ | async" class="table-container mat-elevation-z8">
  <table mat-table class="full-width-table" [dataSource]="dataSource" [trackBy]="trackByFn" matSort aria-label="Elements">
    <ng-container matColumnDef="select">
      <th mat-header-cell *matHeaderCellDef></th>
      <td [ngStyle]="{'border-left-color': colors[row.rarity]}" style="border-left: 3px solid" mat-cell *matCellDef="let row">
        <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? selection.toggle(row.id) : null" [checked]="selection.isSelected(row.id)">
        </mat-checkbox>
      </td>
    </ng-container>

    <ng-container matColumnDef="location">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>위치</th>
      <td mat-cell *matCellDef="let row">{{row.location}}</td>
    </ng-container>

    <ng-container matColumnDef="set">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>세트</th>
      <td mat-cell *matCellDef="let row">{{row.set}}</td>
    </ng-container>

    <ng-container matColumnDef="slot">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>슬롯</th>
      <td mat-cell *matCellDef="let row">{{row.slot}}</td>
    </ng-container>

    <ng-container matColumnDef="star">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>등급★</th>
      <td mat-cell *matCellDef="let row">{{row.star}}★</td>
    </ng-container>

    <ng-container matColumnDef="upgrade">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>강화</th>
      <td mat-cell *matCellDef="let row">+{{row.upgrade}}</td>
    </ng-container>

    <ng-container matColumnDef="rarity">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>희귀도</th>
      <td mat-cell *matCellDef="let row">{{row.rarity}}</td>
    </ng-container>

    <ng-container matColumnDef="maxEfficiency">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>최대 가치</th>
      <td mat-cell *matCellDef="let row">{{row.maxEfficiency | percent:'.1-1'}}</td>
    </ng-container>

    <ng-container matColumnDef="priEff">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>주옵</th>
      <td mat-cell *matCellDef="let row">{{row.priEff}}</td>
    </ng-container>

    <ng-container matColumnDef="prefixEff">
      <th mat-header-cell *matHeaderCellDef>접두옵</th>
      <td mat-cell *matCellDef="let row">{{row.prefixEff}}</td>
    </ng-container>

    <ng-container matColumnDef="secEff">
      <th mat-header-cell *matHeaderCellDef>부옵</th>
      <td mat-cell *matCellDef="let row">{{row.secEff}}</td>
    </ng-container>

    <ng-container matColumnDef="bestMonster">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>추천몹</th>
      <td mat-cell *matCellDef="let row">{{row.bestMonster}}</td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
    <tr (click)="selection.toggle(row.id)" mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</div>